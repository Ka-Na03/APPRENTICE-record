# HTTP について説明できる

## 1. HTTP とは

HTTP とは何か、プログラミング初心者にわかるように説明してください。   

**HTTPとは**
- インターネットを通して行われるユーザーとサーバー間の規則に則ったやり取り
- もっと簡単に言うと「インターネット上での情報のやり取りをする*ルール*です」

## 2. プロトコルとは

HTTP はプロトコルの一種です。プロトコルとは何か、プログラミング初心者にわかるように説明してください。   
**プロトコルとは**
- 端的に言えば「*約束ごと*」
- IT関係において、特にネットワーク周りの中での「プロトコル」では「**通信プロトコル**」のことを指す  

**通信プロトコルとは**
- 「*通信する際の約束ごと*」です
- 様々な通信に対しての「規則・手順」等をお互いに定めて行う事によってスムーズに通信ができる  

プロトコルには様々な種類があります  
以下に、いくつかの代表的なプロトコルをリスト形式で紹介します。これらは異なる目的やレイヤーに基づいて分類されています

1. トランスポート層プロトコル:
   - **TCP** (Transmission Control Protocol): インターネット上で信頼性のあるデータ転送を提供します。データのセグメンテーション、再送制御、順序制御などを担当します。
   - UDP (User Datagram Protocol): データグラム形式の非信頼性のあるデータ転送を提供します。高速性やリアルタイム性が求められるアプリケーションで使用されます。

2. インターネット層プロトコル:
   - **IP** (Internet Protocol): パケット交換ネットワーク上でのデータグラムのルーティングを担当します。データの分割、結合、アドレッシングを行います。
   - ICMP (Internet Control Message Protocol): エラー報告やネットワーク状態の監視など、インターネット制御メッセージの送受信を行います。

3. アプリケーション層プロトコル:
   - **HTTP** (Hypertext Transfer Protocol): ウェブページやリソースの要求と応答を行うためのプロトコルです。ウェブブラウジングに使用されます。
   - SMTP (Simple Mail Transfer Protocol): 電子メールの送信を行うためのプロトコルです。メールの転送や受信サーバーとの通信に使用されます。
   - FTP (File Transfer Protocol): ファイルの転送を行うためのプロトコルです。ファイルのアップロードやダウンロードに使用されます。
   - DNS (Domain Name System): ドメイン名とIPアドレスの対応関係を解決するためのプロトコルです。ドメイン名の解決に使用されます。

4. その他のプロトコル:
   - DHCP (Dynamic Host Configuration Protocol): ネットワーク上のデバイスにIPアドレスなどの設定情報を自動的に割り当てるためのプロトコルです。
   - VoIP (Voice over Internet Protocol): 音声通話をインターネット上で行うためのプロトコルです。音声のパケット化や伝送を担当します。

これらは代表的なプロトコルの一部ですが、さまざまなプロトコルがあります。  
それぞれのプロトコルは、特定の用途や目的に応じて設計されています。

## 3. HTTP リクエスト

HTTP リクエストとは何か、プログラミング初心者にわかるように説明してください。その際に、以下も合わせて説明してください。
- HTTP リクエストはリクエストライン、ヘッダ、メッセージボディの3つの要素から構成されています。それぞれの要素についても説明してください
- HTTP メソッドとは何か、また各メソッドにはどのような意味があるか説明してください

**HTTPリクエストとは**  
簡単にいうと、「これが見たい！これがしたい！これを頂戴！」等のお願い

- Webブラウザからユーザーの欲しい情報が置いてあるWebサーバーへ送られる「お願い」の事  

**リクエストラインとは**  
HTTPリクエストを送るために必要な要素で、後述する要素の一番上の場所に書いてある要素です  
簡単に役割を説明すると「何を、どうしたいか」をWebサーバーに伝える事でそれを３つの要素で示してる  
- HTTPメソッド: リクエストの目的や要求の種類を示す、後述。
- リクエスト対象のURL: ウェブサーバー上のリソース（ウェブページ、画像など）の場所を示します。
- 使用するHTTPバージョン: 使用しているHTTPプロトコルのバージョンを示します。

**ヘッダとは**  
HTTPリクエストを送るために必要な要素で、３つの要素のうち真ん中に位置する要素  
リクエストやリクエストの詳細情報等が書いてある要素、複数行書いてある事が基本です  
例えば、クライアント(ユーザー)のブラウザの種類やリクエストを送った日時、等が以下の書式で書いてある  
- [フィールド名] : [内容]   
  ```http
  User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1\r\n
  ```

**メッセージボディとは**  
HTTPリクエストを送るために必要な要素で、３つの要素のうち１番下に位置する要素  
上記のヘッダの補足情報が書かれている、後述する`POST`メソッドで主に使用されて、リクエストのパラメータの内容が記載されている  
例えば、ウェブフォームの入力内容やファイルのアップロード等  

**HTTPメソッドとは**  
HTTPメソッドについて説明します。HTTPメソッドは、リクエストの目的や要求の種類を示すために使用されます。以下に主要なHTTPメソッドとそれぞれの意味を説明します。

1. GET: サーバーから特定のリソース（ウェブページ、画像、データなど）を取得します。主にリソースの閲覧や取得に使用されます。

2. POST: サーバーにデータを送信し、新しいリソースを作成したり、処理を行ったりします。主にフォームのデータ送信やデータの追加操作に使用されます。

3. PUT: サーバーにデータを送信し、既存のリソースを更新します。指定されたURLにリソースが存在しない場合は新しいリソースを作成します。

4. DELETE: サーバー上のリソースを削除します。

5. PATCH: サーバー上のリソースの一部を変更します。PUTメソッドとは異なり、リソース全体ではなく一部の更新に使用されます。

これらのHTTPメソッドは、リクエストの目的や要求の種類に応じて適切なものを選択して使用します。

## 4. HTTP レスポンス  

HTTP レスポンスとは何か、プログラミング初心者にわかるように説明してください。その際に、以下も合わせて説明してください。

- HTTP レスポンスはステータスライン、ヘッダ、メッセージボディの3つの要素から構成されています。それぞれの要素についても説明してください
- HTTP ステータスコードとは何かを説明してください。また、代表的なステータスコードである200, 201, 204, 301, 400, 401, 403, 404, 500 について説明してください

**HTTPレスポンスとは**  
その名の通り、リクエストに対するレスポンス(応答)です  
もう少し言うと、Webブラウザから出された要求に対するWebサーバーからの応答です  

**ステータスラインとは**  
HTTPレスポンスを構成する要素で一番上に位置する要素です  
「HTTPリクエストの結果」がざっくりと書かれている場所  
構成としては主に２つの要素で書かれています。
- HTTPバージョン：使用しているHTTPプロトコルのバージョンを示している
- ステータスコード：レスポンスの結果や状態を示す３桁の数字、詳細は後述します
  - ステータスコードの後にステータスの補足説明があることもある

**ヘッダとは**  
HTTPレスポンスを構成する要素で真ん中に位置する要素です  
ステータスラインに書ききれないレスポンスの詳細情報が記載されている  
例えば、コンテンツの種類、サーバーの情報、レスポンス日時などが含まれる  
- リクエストヘッダと似たように[フィールド名]：[内容]で書かれます
  ```http
  Server: nginx\r\n
  Date: Tue, 11 Jul 2017 09:23:07 GMT\r\n
  Content-Type: text/html\r\n
  Transfer-Encoding: chunked\r\n
  Connection: keep-alive\r\
  ```

**メッセージボディとは**  
HTTPレスポンスを構成する要素で一番したに位置する要素です  
リクエストに応じたファイルの内容が書かれている場所  
主にHTMLページ、画像、APIの応答データなどが書いてある  

**HTTPステータスコード**  

ステータスコードは、HTTPレスポンスの結果や状態を示す3桁の数字です。代表的なステータスコードのいくつかとその意味を説明します。

1. 200 OK: リクエストが成功し、レスポンスに要求したコンテンツが含まれています。主に成功した**GET**リクエストに対して使用されます。

2. 201 Created: リクエストが成功し、新しいリソースが作成されました。主に**POST**リクエストに対して使用されます。

3. 204 No Content: リクエストが成功し、レスポンスにコンテンツは含まれていません。主に成功した**DELETE**リクエストに対して使用されます。

4. 301 Moved Permanently: 要求したリソースが別の場所に移動したことを示します。ブラウザは自動的に新しい場所にリダイレクトされます。

5. 400 Bad Request: リクエストが不正であるため、サーバーが理解できません。

6. 401 Unauthorized: 認証が必要であり、クライアントが認証を提供していないため、アクセスが拒否されました。

7. 403 Forbidden: アクセスが禁止されているため、サーバーはリクエストを拒否しました。

8. 404 Not Found: 要求したリソースが見つからなかったことを示します。

9. 500 Internal Server Error: サーバー内部でエラーが発生したことを示します。

これらのステータスコードは、リクエストに対する結果や状態を示すために使用され、クライアント側で適切な処理やエラー処理を行うための情報を提供します。


## 5. HTTP 通信

実際に HTTP 通信を見てみましょう。

ブラウザで `https://www.google.com/` を開きます。開発者ツールを開き、ネットワークの箇所から、`www.google.com` を選択します。

そこで実際の HTTP 通信を見て、読み取れた範囲で大丈夫ですので、次の質問に答えてください。

「`https://www.google.com/` にブラウザでアクセスすると Google のトップページが開かれます。それはどのようなリクエストが行われ、どのようなレスポンスが返された結果、このページが開かれているのでしょうか？」

**リクエスト**
1. リクエストURLが`https://www.google.com/`
2. リクエストメソッドは`GET`
4. httpsで通信が行われていて暗号化されている

**レスポンス**
1. ステータスコードは`200`で成功
2. `Content-Type`は`html`ファイルで文字セットは`UTF-8`
3. ボディは上記の通り`html`ファイル